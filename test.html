<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Activity Periods</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-result { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        pre { background: #f8f9fa; padding: 10px; border-radius: 3px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>Activity Period Test</h1>
    <div id="results"></div>

    <script>
        // Simulate the class structure
        class TestTracker {
            constructor() {
                this.activitiesByPeriod = this.getDefaultActivitiesByPeriod();
                this.currentPeriod = 'daily';
            }

            getDefaultActivitiesByPeriod() {
                return {
                    daily: {
                        work: { name: "Work", icon: "üíº", color: "#00695c", target: 8, unit: "hours" },
                        exercise: { name: "Exercise", icon: "üí™", color: "#2e7d32", target: 60, unit: "minutes" },
                    },
                    weekly: {
                        meal_prep: { name: "Meal Prep", icon: "üç±", color: "#f57c00", target: 3, unit: "sessions" },
                        deep_work: { name: "Deep Work Sessions", icon: "üéØ", color: "#5e35b1", target: 5, unit: "sessions" },
                    },
                    monthly: {
                        skill_learning: { name: "Learn New Skill", icon: "üéì", color: "#1976d2", target: 1, unit: "skills" },
                        deep_clean: { name: "Deep Clean House", icon: "üßπ", color: "#388e3c", target: 1, unit: "sessions" },
                    },
                    yearly: {
                        major_goal: { name: "Complete Major Goal", icon: "üèÜ", color: "#ff5722", target: 1, unit: "goals" },
                        travel: { name: "Travel Adventures", icon: "‚úàÔ∏è", color: "#00acc1", target: 2, unit: "trips" },
                    }
                };
            }

            get activities() {
                return this.activitiesByPeriod[this.currentPeriod] || {};
            }

            testPeriodSwitch(period) {
                this.currentPeriod = period;
                return this.activities;
            }
        }

        // Run tests
        function runTests() {
            const results = document.getElementById('results');
            const tracker = new TestTracker();

            // Test 1: Check default daily activities
            try {
                const dailyActivities = tracker.testPeriodSwitch('daily');
                const dailyKeys = Object.keys(dailyActivities);
                
                if (dailyKeys.includes('work') && dailyKeys.includes('exercise')) {
                    results.innerHTML += '<div class="test-result success">‚úÖ Daily activities loaded correctly: ' + dailyKeys.join(', ') + '</div>';
                } else {
                    results.innerHTML += '<div class="test-result error">‚ùå Daily activities missing expected keys</div>';
                }
            } catch (e) {
                results.innerHTML += '<div class="test-result error">‚ùå Error loading daily activities: ' + e.message + '</div>';
            }

            // Test 2: Check weekly activities
            try {
                const weeklyActivities = tracker.testPeriodSwitch('weekly');
                const weeklyKeys = Object.keys(weeklyActivities);
                
                if (weeklyKeys.includes('meal_prep') && weeklyKeys.includes('deep_work')) {
                    results.innerHTML += '<div class="test-result success">‚úÖ Weekly activities loaded correctly: ' + weeklyKeys.join(', ') + '</div>';
                } else {
                    results.innerHTML += '<div class="test-result error">‚ùå Weekly activities missing expected keys</div>';
                }
            } catch (e) {
                results.innerHTML += '<div class="test-result error">‚ùå Error loading weekly activities: ' + e.message + '</div>';
            }

            // Test 3: Check monthly activities
            try {
                const monthlyActivities = tracker.testPeriodSwitch('monthly');
                const monthlyKeys = Object.keys(monthlyActivities);
                
                if (monthlyKeys.includes('skill_learning') && monthlyKeys.includes('deep_clean')) {
                    results.innerHTML += '<div class="test-result success">‚úÖ Monthly activities loaded correctly: ' + monthlyKeys.join(', ') + '</div>';
                } else {
                    results.innerHTML += '<div class="test-result error">‚ùå Monthly activities missing expected keys</div>';
                }
            } catch (e) {
                results.innerHTML += '<div class="test-result error">‚ùå Error loading monthly activities: ' + e.message + '</div>';
            }

            // Test 4: Check yearly activities
            try {
                const yearlyActivities = tracker.testPeriodSwitch('yearly');
                const yearlyKeys = Object.keys(yearlyActivities);
                
                if (yearlyKeys.includes('major_goal') && yearlyKeys.includes('travel')) {
                    results.innerHTML += '<div class="test-result success">‚úÖ Yearly activities loaded correctly: ' + yearlyKeys.join(', ') + '</div>';
                } else {
                    results.innerHTML += '<div class="test-result error">‚ùå Yearly activities missing expected keys</div>';
                }
            } catch (e) {
                results.innerHTML += '<div class="test-result error">‚ùå Error loading yearly activities: ' + e.message + '</div>';
            }

            // Test 5: Show activity details for each period
            results.innerHTML += '<div class="test-result info"><h3>Activity Details by Period:</h3>';
            
            ['daily', 'weekly', 'monthly', 'yearly'].forEach(period => {
                const activities = tracker.testPeriodSwitch(period);
                results.innerHTML += `<h4>${period.charAt(0).toUpperCase() + period.slice(1)} Activities:</h4>`;
                results.innerHTML += '<pre>' + JSON.stringify(activities, null, 2) + '</pre>';
            });
            
            results.innerHTML += '</div>';
        }

        // Run tests when page loads
        runTests();
    </script>
</body>
</html>